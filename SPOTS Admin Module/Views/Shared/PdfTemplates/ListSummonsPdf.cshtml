@model SPOTSAdminModule.ViewModels.ListSummonsViewModel

@{
    ViewBag.Title = "LIST SUMMONS REPORT";
    Layout = "~/Views/Shared/_PdfLayout.cshtml";

    var rowNo = 0;
}

<div class="row">
    <div class="col-xs-12">
        <h3>Report Name: @ViewBag.Title</h3>
    </div>
</div>

<div class="row">
    <div class="col-xs-12">
        <h4>Search Criteria:</h4>
    </div>
</div>

<div class="row">
    <div class="col-xs-1"></div>
    @if (Model.SearchModel != null)
    {
        <table>
            <tbody>
                <tr>
                    <td id="report">Date From:</td>
                    <td id="report">@(Model.SearchModel.SearchFromDate !=null ? Model.SearchModel.SearchFromDate.Value.ToShortDateString() : "")</td>                    
                </tr>
                <tr>
                    <td id="report">Date To:</td>
                    <td id="report">@(Model.SearchModel.SearchToDate != null ? Model.SearchModel.SearchToDate.Value.ToShortDateString() : "")</td>
                </tr>
                <tr>
                    <td id="report">Officer ID:</td>
                    <td id="report">@(Model.SearchModel.SearchOfficerId)</td>                    
                </tr>
                <tr>
                    <td id="report">Summon Type:</td>
                    @if (Model.SearchModel.SearchSummonsType.HasValue)
                    {
                        if (Model.SearchModel.SearchSummonsType == 1)
                        {
                            <td id="report">M401</td>
                        }
                        else if (Model.SearchModel.SearchSummonsType == 2)
                        {
                            <td id="report">M401E</td>
                        }
                        else
                        {
                            <td id="report"></td>
                        }
                    }                    
                </tr>
                <tr>
                    <td id="report">Location:</td>
                    <td id="report">@(Model.SearchModel.SearchLocation)</td>
                </tr>
                <tr>
                    <td id="report">Offence Description:</td>
                    <td id="report">@(Model.SearchModel.SearchOffenceDescription)</td>
                </tr>
                <tr>
                    <td style="color: rgba(250, 250, 250, 0.00);">n</td>
                </tr>
            </tbody>
        </table>
    }
</div>

<div class="row">
    <div class="col-xs-3 col-xs-offset-3">
    </div>
</div>


@if (Model.SummonsReportsList.Any())
{
    <div class="row">
        <div class="col-xs-12">
            <table class="table table-responsive table-striped table-hover" id="searchResult" style="font-size:16px">
                <thead>
                    <tr>
                        <th>S/N</th>
                        <th>Officer ID</th>
                        <th>Officer Name</th>
                        <th>Summon Type</th>
                        <th>Offence Description</th>
                        <th>Report No.</th>
                        <th>Offence Date and Time</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var enquirySummon in Model.SummonsReportsList)
                    {
                        var rowClass = (rowNo % 2) == 0 ? "" : "alternateRow";

                        <tr class="@rowClass">
                            <td>@(rowNo += 1)</td>
                            <td>@(enquirySummon?.AdAccount)</td>
                            <td>@(enquirySummon?.DisplayName)</td>
                            <td>@(enquirySummon?.SummonsType)</td>
                            <td>@(enquirySummon?.OffenceDescription)</td>
                            <td>@(enquirySummon?.TimsReportNo)</td>
                            <td>@(enquirySummon?.OffenceDateTime.ToShortDateString() + " " + enquirySummon.OffenceDateTime.ToShortTimeString())
                            <td>@(enquirySummon?.Location)</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
            <p style="font-size:16px">Total Records Found: @Model.SummonsReportsList.Count()</p>
            <p style="font-size:16px">Generated by: @HttpContext.Current.User.Identity.Name, @Model.ReportGeneratedBy</p>            
            <p style="font-size:16px">Generated on: @Model.GeneratedDateTime</p>
        </div>
    </div>
}

